-- Load Rayfield UI
local Rayfield = loadstring(game:HttpGet("https://sirius.menu/rayfield"))()

-- Create window with purple/gold/white theme (customize theme colors)
local Window = Rayfield:CreateWindow({
    Name = "Nebula Hub Debugger",
    LoadingTitle = "Loading Nebula Hub Debugger...",
    LoadingSubtitle = "By You",
    ConfigurationSaving = {
        Enabled = true,
        FolderName = "NebulaHubDebugger",
        FileName = "Settings"
    },
    Discord = {
        Enabled = false,
    },
    KeySystem = false,
})

-- Local Player Tab
local LocalPlayerTab = Window:CreateTab("Local Player")

local jumpPower = 50
local walkSpeed = 16
local jumpPowerEnabled = false
local walkSpeedEnabled = false

-- Jump Power slider
local JumpSlider = LocalPlayerTab:CreateSlider({
    Name = "Jump Power",
    Range = {50, 250},
    Increment = 1,
    CurrentValue = jumpPower,
    Flag = "JumpPowerSlider",
    Callback = function(value)
        jumpPower = value
        if jumpPowerEnabled and game.Players.LocalPlayer.Character then
            local humanoid = game.Players.LocalPlayer.Character:FindFirstChildOfClass("Humanoid")
            if humanoid then
                humanoid.JumpPower = jumpPower
            end
        end
    end,
})

-- Jump Power toggle
LocalPlayerTab:CreateToggle({
    Name = "Enable Jump Power",
    CurrentValue = jumpPowerEnabled,
    Flag = "JumpPowerToggle",
    Callback = function(enabled)
        jumpPowerEnabled = enabled
        local humanoid = game.Players.LocalPlayer.Character and game.Players.LocalPlayer.Character:FindFirstChildOfClass("Humanoid")
        if humanoid then
            humanoid.JumpPower = enabled and jumpPower or 50
        end
    end,
})

-- Walk Speed slider
local SpeedSlider = LocalPlayerTab:CreateSlider({
    Name = "Walk Speed",
    Range = {16, 250},
    Increment = 1,
    CurrentValue = walkSpeed,
    Flag = "WalkSpeedSlider",
    Callback = function(value)
        walkSpeed = value
        if walkSpeedEnabled and game.Players.LocalPlayer.Character then
            local humanoid = game.Players.LocalPlayer.Character:FindFirstChildOfClass("Humanoid")
            if humanoid then
                humanoid.WalkSpeed = walkSpeed
            end
        end
    end,
})

-- Walk Speed toggle
LocalPlayerTab:CreateToggle({
    Name = "Enable Walk Speed",
    CurrentValue = walkSpeedEnabled,
    Flag = "WalkSpeedToggle",
    Callback = function(enabled)
        walkSpeedEnabled = enabled
        local humanoid = game.Players.LocalPlayer.Character and game.Players.LocalPlayer.Character:FindFirstChildOfClass("Humanoid")
        if humanoid then
            humanoid.WalkSpeed = enabled and walkSpeed or 16
        end
    end,
})

-- Debugging Tab
local DebugTab = Window:CreateTab("Debugging")

DebugTab:CreateButton({
    Name = "Print Player Info",
    Callback = function()
        local player = game.Players.LocalPlayer
        if player and player.Character then
            local humanoid = player.Character:FindFirstChildOfClass("Humanoid")
            print("Player Name:", player.Name)
            print("Health:", humanoid and humanoid.Health or "N/A")
            print("WalkSpeed:", humanoid and humanoid.WalkSpeed or "N/A")
            print("JumpPower:", humanoid and humanoid.JumpPower or "N/A")
        else
            print("No character loaded")
        end
    end,
})

-- Ensure sliders/toggles work on respawn
game.Players.LocalPlayer.CharacterAdded:Connect(function(char)
    local humanoid = char:WaitForChild("Humanoid", 10)
    if humanoid then
        humanoid.JumpPower = jumpPowerEnabled and jumpPower or 50
        humanoid.WalkSpeed = walkSpeedEnabled and walkSpeed or 16
    end
end)
